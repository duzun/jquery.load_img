!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).loadImg=n()}(this,(function(){"use strict";
/**
     *  Load images asynchronously and cache them.
     *
     *  @license MIT
     *  @git https://github.com/duzun/jquery.load_img
     *  @author Dumitru Uzun (DUzun.Me)
     *  @version 1.5.2
     */var e="1.5.2";function n(n,t){var o;t||(t=r());var i=t.document,c={},a={};function f(e,r,t){t||"function"!=typeof r||(t=r,r=o),r=r?n.extend({},f.settings,r):f.settings;var u=n("<img />"),s="function"==typeof t,d=s?o:new n.Deferred,l=function n(r){var o="error"==r.type;r.timeStamp||(r.timeStamp=Date.now()),r.src=e,o?a[e]=r:delete a[e],c[e]=!o,u.off(o?"load":"error",n).remove(),u.show(),s?t.call(u,!o&&e,r):d&&(o?d.reject(r):d.resolve(r,e))},p=this,h=p&&p!=n&&p.$ctx;d&&d.promise(u),u.hide().one("load",l).one("error",l);var g=a[e],m=r.errorExpires;if(g&&m&&m<Date.now()-g.timeStamp&&(g=o),g)u.prop("src",e).trigger(g);else if(h&&h.length&&h[0]!=i||(h=n(i.body||"body")),h.length)u.prop("src",e),h.append(u);else var v=setInterval((function(){i.body&&(clearInterval(v),h=n(i.body),u.prop("src",e),h.append(u))}),50);return u}function u(e,n){if(e in c)return n&&n(c[e]&&e),c[e];n&&f(e,n)}return f.exists=u,f.src=function(e,r){if(u(e)){var t=n.Deferred(),o=t.promise();return t.resolve(e),o}return f(e,r).then((function(e){var n=e.src,r=e.target;return n||r&&r.src}))},f.inCache=f.in_cache=function(e){return e in c},f.isImgOk=f.is_ok=function(e){return!!e.complete&&(void 0===e.naturalWidth||0!=e.naturalWidth)},f.purgeCache=f.purge_cache=function(){n.each(c,(function(e,n){delete c[e]})),n.each(a,(function(e,n){delete a[e]}))},f.cache=c,f.errors=a,f.VERSION=e,f.settings={errorExpires:1e3},n.load_img=f}function r(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:global}return n.VERSION=e,function(e){var r=e.jQuery||e.Zepto;r&&n(r,e)}(r()),n}));
//# sourceMappingURL=load_img.min.js.map
