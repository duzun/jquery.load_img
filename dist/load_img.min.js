!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self).loadImg=n()}(this,(function(){"use strict";
/**
     *  Load images asynchronously and cache them.
     *
     *  @license MIT
     *  @git https://github.com/duzun/jquery.load_img
     *  @author Dumitru Uzun (DUzun.Me)
     *  @version 1.6.0
     */var e="1.6.0";function n(n,t){var o;t||(t=r());var i=t.document,c={},d={};function a(e,r,t){t||"function"!=typeof r||(t=r,r=o);var u=r=r?n.extend({},a.settings,r):a.settings,f=u.errorExpires,s=u.decode,l=n("<img />"),p="function"==typeof t,h=p?o:new n.Deferred,g=function n(r){var o="error"==r.type;r.timeStamp||(r.timeStamp=Date.now()),r.src=e,o?d[e]=r:delete d[e],c[e]=!o,l.off(o?"load":"error",n).remove(),l.show(),p?s&&!o&&l[0].decode?l[0].decode().then((function(){return t.call(l,e,r)}),(function(e){r.reason=e,t.call(l,!1,r)})):t.call(l,!o&&e,r):h&&(o?h.reject(r):s&&l[0].decode?l[0].decode().then((function(){return h.resolve(r,e)}),h.reject):h.resolve(r,e))},m=this,v=m&&m!=n&&m.$ctx;h&&h.promise(l),l.hide().one("load",g).one("error",g);var y=d[e];if(y&&f&&f<Date.now()-y.timeStamp&&(y=o),y)l.prop("src",e).trigger(y);else if(v&&v.length&&v[0]!=i||(v=n(i.body||"body")),v.length)l.prop("src",e),v.append(l);else var b=setInterval((function(){i.body&&(clearInterval(b),v=n(i.body),l.prop("src",e),v.append(l))}),50);return l}function u(e,n){if(e in c)return n&&n(c[e]&&e),c[e];n&&a(e,n)}return a.exists=u,a.src=function(e,r){if(u(e)){var t=n.Deferred(),o=t.promise();return t.resolve(e),o}return a(e,r).then((function(e){var n=e.src,r=e.target;return n||r&&r.src}))},a.inCache=a.in_cache=function(e){return e in c},a.isImgOk=a.is_ok=function(e){return!!e.complete&&(void 0===e.naturalWidth||0!=e.naturalWidth)},a.purgeCache=a.purge_cache=function(){n.each(c,(function(e,n){delete c[e]})),n.each(d,(function(e,n){delete d[e]}))},a.cache=c,a.errors=d,a.VERSION=e,a.settings={errorExpires:1e3,decode:!!Image.prototype.decode},n.load_img=a}function r(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:global}return n.VERSION=e,function(e){var r=e.jQuery||e.Zepto;r&&n(r,e)}(r()),n}));
//# sourceMappingURL=load_img.min.js.map
